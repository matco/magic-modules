<%
  product_name = object.__product.name.underscore
-%>
<%= lines(autogen_notice :go) -%>
package google

import (
  "fmt"
)

type <%= product_name -%>OperationWaiter struct {
  CommonOperationWaiter
  Config *Config
}

func (w *<%= product_name -%>OperationWaiter) QueryOp() (interface{}, error) {
  if w == nil {
    return nil, fmt.Errorf("Cannot query operation, it's unset or nil.")
  }
  // Returns the proper get.

  return sendRequestWithTimeout(w.Config, "GET", w.op.name, {}, 4)
}

func <%= product_name -%>OperationWaitTime(config, op *Operation, project, activity, timeoutMinutes int) error {
  w := &<%= product_name -%>OperationWaiter{
    Config: config
  }
  if err := w.SetOp(op); err != nil {
    return err
  }
  return OperationWait(w, activity, timeoutMinutes)
}
